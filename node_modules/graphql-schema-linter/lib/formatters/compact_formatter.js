'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = CompactFormatter;

var _columnify = require('columnify');

var _columnify2 = _interopRequireDefault(_columnify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function CompactFormatter(errorsGroupedByFile) {
  var files = Object.keys(errorsGroupedByFile);

  var errorsText = files.map(function (file) {
    return generateErrorsForFile(file, errorsGroupedByFile[file]);
  }).join('\n');
  return errorsText + '\n';
} // Text format for easy machine parsing.


function generateErrorsForFile(file, errors) {
  var formattedErrors = errors.map(function (error) {
    var location = error.locations[0];
    return file + ':' + location.line + ':' + location.column + ' ' + error.message + ' (' + error.ruleName + ')';
  });

  return formattedErrors.join('\n');
}